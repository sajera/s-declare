/**
 * s-declare    
 * MIT License Copyright (c) 2016 Serhii Perekhrest <allsajera@gmail.com> ( Sajera )    
 */
!function(){"use strict";function e(e){return"[object Array]"==Object.prototype.toString.call(e)}function t(){Object.defineProperty(this,"_store",{value:{},writable:!1,enumerable:!1,configurable:!0,__proto__:null}),Object.defineProperty(this,"_events",{value:{},writable:!1,enumerable:!1,configurable:!0,__proto__:null})}function n(t,n){if(t="string"==typeof t?t:null,t&&o.isExist(t))throw new Error("Module "+t+" already exist.");if(e(n.dependencies))n.dependencies.push(n),n=n.dependencies;else if("function"==typeof n){var i=/^[\w\s]+\(([\w\s\,]*)\)/.exec(String(n))[1].replace(/\s+/g,"");n=(i?i.split(","):[]).concat(n)}if(!e(n)||"function"!=typeof n[n.length-1])throw new Error("Incorrect data type for module declaration. Must be array or function");return t?o.set(t,r(n)):r(n)}function r(e){for(var t=e.splice(-1,1)[0],n=0;n<e.length;n++)e[n]=o.get(e[n]);return t.apply(null,e)}t.prototype={constructor:t,get:function(e){if(this.isExist(e))return this._store[e];throw new Error("Module "+e+" not existing.")},set:function(e,t){if(this.isExist(e))throw new Error("Module "+e+" already exist.");return this._store[e]=t},isExist:function(e){return!!this._store[e]},record:function(){var e=Object.assign.apply(Object,[{}].concat(Array.prototype.slice.call(arguments)));for(var t in e)this.set(t,e[t])}};var o=new t,i=o.get.bind(o);n.record=o.record.bind(o),o.get=n.require=function(){return"undefined"!=typeof process&&"[object process]"==Object.prototype.toString.call(process)?function(e){return o.isExist(e)?i(e):/\.\//g.test(e)?require(require("path").join(process.cwd(),e)):require(e)}:"undefined"!=typeof window&&"[object Window]"==Object.prototype.toString.call(window)?function(e){return i(e)}:void 0}(),n.on=function(e,t){var n=o._events,r=n[e]?n[e]:n[e]=[],i=r.push(t)-1;return function(){r[i]=null}},n.once=function(e,t){var r=n.on(e,function(e){t.call(this,e),r()})},n.emit=function(e,t,n){n="object"==typeof n?n:{};var r=o._events[e];if(r){var i=0;n.stopPropagation=function(){i=r.length};do r[i]&&r[i].call(t,n);while(++i<r.length)}},"undefined"!=typeof window&&"[object Window]"==Object.prototype.toString.call(window)&&(window.declare=n),"undefined"!=typeof process&&"[object process]"==Object.prototype.toString.call(process)&&(module.exports=n)}(); 